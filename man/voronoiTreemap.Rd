% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/voronoi.R
\name{voronoiTreemap}
\alias{voronoiTreemap}
\title{voronoiTreemap}
\usage{
voronoiTreemap(data, levels, fun = sum, sort = TRUE, filter = 0,
  cell.size = NULL, cell.color = levels[1], color.palette = NULL,
  border.size = 6, border.color = grey(0.9),
  labels = levels[length(levels)], label.col = grey(0.5),
  maxIteration = 100, seed = NULL, debug = FALSE)
}
\arguments{
\item{data}{(data.frame) A data.frame with one column for each hierarchical level}

\item{levels}{(character) Character vector indicating the column names to 
be used. The order of names must correspond to the hierarchical levels, 
going from broad to fine}

\item{fun}{(function) Function to be used to aggregate cell sizes of parental cells}

\item{sort}{(logical) Should the columns of the data.frame be sorted before?}

\item{filter}{(logical) Filter the supplied data frame to remove very small
cells that may not be visible. The default is to remove cells with a 
relative target area below 0.0001, or 0.01%. The algorithm can fail
when processing many tiny cells so it can be worthwhile to simply 
rerun the function with a stricter filter.}

\item{cell.size}{(character) Indicates the column used to control cell size. 
Can be one of \code{levels}}

\item{cell.color}{(character) Indicates the column used to control cell color. 
Can be one of \code{levels}}

\item{color.palette}{(character) A character vector of colors used to fill cells.}

\item{border.size}{(character) The initial line width of the highest level 
cells. Is reduced each level.}

\item{border.color}{(numeric) Color for cell borders.}

\item{labels}{(character) The column name indicating the hierarchical level 
used for cell labels, or NULL to omit drawing labels. The default is the
lowest level.}

\item{label.col}{(character) Color for cell labels.}

\item{maxIteration}{(numeric) Force algorithm to stop at this number of iterations
for each parent cell. The algorithm usually converges to an acceptable 
solution fairly quickly, so it seems reasonable to restrict this number
in order to save computation time. However, more iterations give higher
accuracy.}

\item{seed}{(integer) The default seed is NULL, which will lead to a new 
random sampling of cell coordinates for each tesselation. If you want
a reproducibloe arrangement of cells, set seed to an arbitrary number.}

\item{debug}{(logical) If debug is TRUE (default is FALSE), the solution 
for each iteration is drawn to the viewport to allow some visual 
inspection. The weights, target area, and difference are printed to the 
console. Use with care, this makes treemap generation much slower!}
}
\value{
A named list with grid graphical objects for polygons and labels.
}
\description{
Create nested additively weighted Voronoi treemaps.
}
\details{
This is a recursive wrapper function, making use of the original implementation 
of the voronoi tesselation from Paul Murrell, University of Auckland.
The original functions were obtained and slightly modified from
\url{https://www.stat.auckland.ac.nz/~paul/Reports/VoronoiTreemap/voronoiTreeMap.html}
This function returns a list of graphical objects instead of a plot. In order 
to actually draw the treemap, use \code{\link{drawTreemap}}.
}
\examples{
library(SysbioTreemaps)

# generate example data
df <- data.frame(stringsAsFactors = FALSE,
  A=rep(c("a", "b", "c"), each=15),
  B=sample(letters[4:13], 45, replace=TRUE),
  C=sample(1:100, 45)
)

# generate treemap
tm <- voronoiTreemap(
  data = df,
  levels = c("A", "B", "C"),
  cell.size = "C",
  cell.color = "A",
  maxIteration = 50,
  )

# plot treemap
drawTreemap(tm)


}
\seealso{
\code{\link{drawTreemap}} for drawing the treemap.
}
